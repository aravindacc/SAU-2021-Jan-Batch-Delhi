{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/saksham/Desktop/ReactNativeAssignment/AwesomeProject/components/Main.js\";\n\nimport React, { useEffect, useState, useCallback } from \"react\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport View from \"react-native-web/dist/exports/View\";\nimport FitlterCountry from \"./FilterCountry\";\nimport ListCountry from \"./ListCountry\";\n\nvar Main = function Main() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      Countries = _useState2[0],\n      setCountries = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      FilteredKey = _useState4[0],\n      setFilteredKey = _useState4[1];\n\n  var _useState5 = useState('country'),\n      _useState6 = _slicedToArray(_useState5, 2),\n      filterType = _useState6[0],\n      setFilteredType = _useState6[1];\n\n  useEffect(function () {\n    function fetchMyAPI() {\n      var response;\n      return _regeneratorRuntime.async(function fetchMyAPI$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(fetch('https://corona.lmao.ninja/v2/countries'));\n\n            case 2:\n              response = _context.sent;\n              _context.next = 5;\n              return _regeneratorRuntime.awrap(response.json());\n\n            case 5:\n              response = _context.sent;\n              setCountries(response);\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    }\n\n    fetchMyAPI();\n  }, []);\n  var onSearchFilter = useCallback(function (value) {\n    setFilteredKey(value);\n  });\n  var onFilter = useCallback(function () {\n    setFilteredType(filterType == 'country' ? 'cases' : 'country');\n    console.log(filterType);\n  });\n\n  function sortBasedOnKey(a, b) {\n    return a[filterType] - b[filterType];\n  }\n\n  var navigateHandle = useCallback(function (data) {\n    Navigation.navigate('');\n  });\n  return React.createElement(View, {\n    style: styles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  }, React.createElement(FitlterCountry, {\n    searchFilter: onSearchFilter,\n    ownFilter: onFilter,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }), React.createElement(ListCountry, {\n    navigateCountry: navigateHandle,\n    CountryList: Countries.sort(sortBasedOnKey).filter(function (item) {\n      return item.country.startsWith(FilteredKey);\n    }),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }));\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    paddingTop: 15,\n    backgroundColor: 'grey',\n    alignItems: 'center',\n    justifyContent: 'center'\n  }\n});\nexport default Main;","map":{"version":3,"sources":["/home/saksham/Desktop/ReactNativeAssignment/AwesomeProject/components/Main.js"],"names":["React","useEffect","useState","useCallback","FitlterCountry","ListCountry","Main","Countries","setCountries","FilteredKey","setFilteredKey","filterType","setFilteredType","fetchMyAPI","fetch","response","json","onSearchFilter","value","onFilter","console","log","sortBasedOnKey","a","b","navigateHandle","data","Navigation","navigate","styles","container","sort","filter","item","country","startsWith","StyleSheet","create","flex","paddingTop","backgroundColor","alignItems","justifyContent"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,EAAqCC,WAArC,QAAuD,OAAvD;;;;;;;;;;;;AAEA,OAAOC,cAAP;AACA,OAAOC,WAAP;;AAEA,IAAMC,IAAI,GAAG,SAAPA,IAAO,GAAM;AAAA,kBACgBJ,QAAQ,CAAC,EAAD,CADxB;AAAA;AAAA,MACVK,SADU;AAAA,MACAC,YADA;;AAAA,mBAEoBN,QAAQ,CAAC,EAAD,CAF5B;AAAA;AAAA,MAEVO,WAFU;AAAA,MAEEC,cAFF;;AAAA,mBAGoBR,QAAQ,CAAC,SAAD,CAH5B;AAAA;AAAA,MAGVS,UAHU;AAAA,MAGCC,eAHD;;AAMjBX,EAAAA,SAAS,CAAC,YAAM;AACd,aAAeY,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+CACuBC,KAAK,CAAC,wCAAD,CAD5B;;AAAA;AACMC,cAAAA,QADN;AAAA;AAAA,+CAEmBA,QAAQ,CAACC,IAAT,EAFnB;;AAAA;AAEED,cAAAA,QAFF;AAGEP,cAAAA,YAAY,CAACO,QAAD,CAAZ;;AAHF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAMAF,IAAAA,UAAU;AACX,GARQ,EAQN,EARM,CAAT;AAUA,MAAMI,cAAc,GAAGd,WAAW,CAAE,UAACe,KAAD,EAAU;AAC5CR,IAAAA,cAAc,CAACQ,KAAD,CAAd;AACD,GAFiC,CAAlC;AAMA,MAAMC,QAAQ,GAAChB,WAAW,CAAC,YAAI;AAC7BS,IAAAA,eAAe,CAACD,UAAU,IAAE,SAAZ,GAAsB,OAAtB,GAA8B,SAA/B,CAAf;AACAS,IAAAA,OAAO,CAACC,GAAR,CAAYV,UAAZ;AACD,GAHyB,CAA1B;;AAIA,WAASW,cAAT,CAAwBC,CAAxB,EAA0BC,CAA1B,EACA;AACE,WAAQD,CAAC,CAACZ,UAAD,CAAF,GAAmBa,CAAC,CAACb,UAAD,CAA3B;AACD;;AAED,MAAMc,cAAc,GAAGtB,WAAW,CAAC,UAACuB,IAAD,EAAU;AAC3CC,IAAAA,UAAU,CAACC,QAAX,CAAoB,EAApB;AACD,GAFiC,CAAlC;AAGA,SACE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEC,MAAM,CAACC,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,cAAD;AAAgB,IAAA,YAAY,EAAEb,cAA9B;AAA+C,IAAA,SAAS,EAAEE,QAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE,oBAAC,WAAD;AAAa,IAAA,eAAe,EAAEM,cAA9B;AAA8C,IAAA,WAAW,EAAElB,SAAS,CAACwB,IAAV,CAAeT,cAAf,EAA+BU,MAA/B,CAAsC,UAAAC,IAAI;AAAA,aAAIA,IAAI,CAACC,OAAL,CAAaC,UAAb,CAAwB1B,WAAxB,CAAJ;AAAA,KAA1C,CAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADF;AAQD,CA1CD;;AA4CA,IAAMoB,MAAM,GAAGO,UAAU,CAACC,MAAX,CAAkB;AAC/BP,EAAAA,SAAS,EAAE;AACTQ,IAAAA,IAAI,EAAE,CADG;AAETC,IAAAA,UAAU,EAAC,EAFF;AAGTC,IAAAA,eAAe,EAAE,MAHR;AAITC,IAAAA,UAAU,EAAE,QAJH;AAKTC,IAAAA,cAAc,EAAE;AALP;AADoB,CAAlB,CAAf;AAUA,eAAepC,IAAf","sourcesContent":["import React, { useEffect, useState ,useCallback} from \"react\";\nimport {FlatList,Button,Dimensions,ImageBackground, Image, SafeAreaView, StatusBar, StyleSheet, Text, TouchableOpacity, View } from \"react-native\";\nimport FitlterCountry from \"./FilterCountry\"\nimport ListCountry from \"./ListCountry\"\n\nconst Main = () => {\n  const [Countries,setCountries] = useState([]);\n  const [FilteredKey,setFilteredKey] = useState(\"\");\n  const [filterType,setFilteredType] = useState('country');\n\n\n  useEffect(() => {\n    async function fetchMyAPI() {\n      let response = await fetch('https://corona.lmao.ninja/v2/countries')\n      response = await response.json()\n      setCountries(response)\n      // console.log(Countries[0])\n    }\n    fetchMyAPI()\n  }, [])\n \n  const onSearchFilter = useCallback( (value) =>{\n    setFilteredKey(value);\n  });\n\n\n\n  const onFilter=useCallback(()=>{\n    setFilteredType(filterType=='country'?'cases':'country');\n    console.log(filterType)\n  })\n  function sortBasedOnKey(a,b)\n  {\n    return (a[filterType]) - (b[filterType]);\n  }\n\n  const navigateHandle = useCallback((data) => {\n    Navigation.navigate('')\n  })\n  return(\n    <View style={styles.container}>\n      <FitlterCountry searchFilter={onSearchFilter}  ownFilter={onFilter}></FitlterCountry>\n      <ListCountry navigateCountry={navigateHandle} CountryList={Countries.sort(sortBasedOnKey).filter(item => item.country.startsWith(FilteredKey) )}></ListCountry> \n\n    </View>\n  )\n  \n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    paddingTop:15,\n    backgroundColor: 'grey',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n});\n\nexport default Main;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// class Main extends React.Component {\n//   constructor() {\n//     super();\n//     this.state={\n//       data:[]\n//     }\n//   }\n//   // API fetch\n//   componentDidMount() {\n//     this.apiCall();\n//   }\n//   async apiCall() {\n//     let resp = await fetch(\"https://corona.lmao.ninja/v2/countries\")\n//     let respJson = await resp.json()\n//     // console.warn(\"data\", respJson[0].cases)\n//     this.setState({data : respJson})\n//   }\n\n  \n\n//   render()  {\n//     const renderItem = ({ item }) => {\n//       return (\n//         <View style={{flex:1, justifyContent:'center',alignItems:\"center\",margin:20}}>\n//             <View style={{width:Dimensions.get('window').width *0.4 ,height:Dimensions.get('window').height*0.5}}>\n//               <ImageBackground source={{uri:item.countryInfo.flag}} style={{width:'100%',height:'100%',justifyContent:\"flex-end\"}}>\n//               <View style={{flex:0.1,flexDirection:\"row\",height:\"10%\",justifyContent:\"space-between\",alignItems:\"center\",backgroundColor:\"black\",borderBottomLeftRadius:10,borderBottomRightRadius:10,padding:10}}>\n//                   <Text style={{fontWeight:\"bold\",fontSize:\"25px\",color:\"white\",flex:0.4,alignItems:\"center\",textAlign:\"center\"}}>{item.country} </Text>\n//                   <Text style={{fontWeight:\"bold\",fontSize:\"25px\",color:\"white\",flex:0.25}}>{item.cases} </Text>\n//                   <Button title=\"View Details\" onPress={()=>{this.props.navigateProduct(item.country)}}  style={{padding:5}}></Button>\n//                 </View>\n//               </ImageBackground>        \n//             </View>\n//         </View>\n//       )\n//     }\n  \n//     return (\n//       <SafeAreaView style={styles.container}>\n//         <FlatList\n//           data={this.state.data}\n//           renderItem={renderItem}\n//         />\n//         </SafeAreaView>\n//       // <div>{console.log(this.state.data[0])}</div>\n//     )\n//   }\n// }\n\n\n// const styles=StyleSheet.create({\n//   container:{backgroundColor:\"grey\" }\n// });\n\n\n// export default Main\n\n\n\n"]},"metadata":{},"sourceType":"module"}