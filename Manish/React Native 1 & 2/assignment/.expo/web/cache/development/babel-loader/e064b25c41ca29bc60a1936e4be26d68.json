{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nvar initialState = {\n  list: [],\n  pageNumber: 1\n};\n\nvar getNewItems = function getNewItems(pageNumber) {\n  console.log(items);\n  return items;\n};\n\nvar listReducer = function listReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case \"APPEND\":\n      var url = \"https://api.jikan.moe/v3/top/anime/\" + pageNumber + \"/airing\";\n      fetch(url).then(function (res) {\n        return res.json();\n      }).then(function (obj) {\n        return items = obj.top;\n      });\n      return {\n        list: [].concat(_toConsumableArray(state.list), _toConsumableArray(items)),\n        pageNumber: state.pageNumber + 1\n      };\n  }\n\n  return state;\n};\n\nexport default listReducer;","map":{"version":3,"sources":["/mnt/sdb7/AU/Classes/8-React-native/assignment/RNProject/ListRedux/listReducer.js"],"names":["initialState","list","pageNumber","getNewItems","console","log","items","listReducer","state","action","type","url","fetch","then","res","json","obj","top"],"mappings":";AAAA,IAAMA,YAAY,GAAG;AACnBC,EAAAA,IAAI,EAAE,EADa;AAEnBC,EAAAA,UAAU,EAAE;AAFO,CAArB;;AAKA,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACD,UAAD,EAAgB;AAGhCE,EAAAA,OAAO,CAACC,GAAR,CAAYC,KAAZ;AACA,SAAOA,KAAP;AACH,CALD;;AAOA,IAAMC,WAAW,GAAG,SAAdA,WAAc,GAAkC;AAAA,MAAjCC,KAAiC,uEAAzBR,YAAyB;AAAA,MAAXS,MAAW;;AACpD,UAAQA,MAAM,CAACC,IAAf;AACE,SAAK,QAAL;AACI,UAAMC,GAAG,2CAAyCT,UAAzC,YAAT;AACAU,MAAAA,KAAK,CAACD,GAAD,CAAL,CACCE,IADD,CACM,UAAAC,GAAG;AAAA,eAAIA,GAAG,CAACC,IAAJ,EAAJ;AAAA,OADT,EAECF,IAFD,CAEM,UAAAG,GAAG;AAAA,eAAIV,KAAK,GAAGU,GAAG,CAACC,GAAhB;AAAA,OAFT;AAGF,aAAO;AAAEhB,QAAAA,IAAI,+BAAMO,KAAK,CAACP,IAAZ,sBAAqBK,KAArB,EAAN;AAAmCJ,QAAAA,UAAU,EAAEM,KAAK,CAACN,UAAN,GAAmB;AAAlE,OAAP;AANJ;;AAqCA,SAAOM,KAAP;AACD,CAvCD;;AAyCA,eAAeD,WAAf","sourcesContent":["const initialState = {\n  list: [],\n  pageNumber: 1,\n};\n\nconst getNewItems = (pageNumber) => {\n    \n    \n    console.log(items);\n    return items;\n};\n\nconst listReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case \"APPEND\":\n        const url = `https://api.jikan.moe/v3/top/anime/${pageNumber}/airing`;\n        fetch(url)\n        .then(res => res.json())\n        .then(obj => items = obj.top)\n      return { list: [...state.list, ...items], pageNumber: state.pageNumber + 1 };\n  }\n\n//   state.list = [\n//     {\n//       id: 1,\n//       name: \"Manish\",\n//       age: \"23\",\n//     },\n//     {\n//       id: 2,\n//       name: \"Abc\",\n//       age: \"23\",\n//     },\n//     {\n//       id: 3,\n//       name: \"Xyz\",\n//       age: \"23\",\n//     },\n//     {\n//       id: 4,\n//       name: \"Mandela\",\n//       age: \"23\",\n//     },\n//     {\n//       id: 5,\n//       name: \"Vipin\",\n//       age: \"23\",\n//     },\n//   ];\n\n  return state;\n};\n\nexport default listReducer;\n"]},"metadata":{},"sourceType":"module"}