{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nvar initialState = {\n  list: [],\n  cached: {},\n  pageNumber: 1,\n  searchQuery: \"\"\n};\n\nvar listReducer = function listReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case \"APPEND\":\n      {\n        var newData = action.payload.map(function (item) {\n          item.show = true;\n          return item;\n        });\n        return {\n          list: [].concat(_toConsumableArray(state.list), _toConsumableArray(newData)),\n          pageNumber: state.pageNumber + 1\n        };\n      }\n\n    case \"SEARCH\":\n      {\n        console.log(state.list);\n        var searchList = state.list.filter(function (item) {\n          return item.title.includes(state.searchQuery);\n        });\n        console.log(searchList);\n        return {\n          list: searchList\n        };\n      }\n\n    case \"SORT\":\n      {\n        var s = Date.now();\n\n        var sortedOnMembers = _toConsumableArray(state.list);\n\n        sortedOnMembers.sort(function (a, b) {\n          return a.members > b.members ? -1 : 1;\n        });\n        var e = Date.now();\n        return {\n          list: sortedOnMembers\n        };\n      }\n\n    case \"RESETFILTER\":\n      {\n        var defaultSort = _toConsumableArray(state.list);\n\n        defaultSort.sort(function (a, b) {\n          return a.score > b.score ? -1 : 1;\n        });\n        return {\n          list: defaultSort\n        };\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport default listReducer;","map":{"version":3,"sources":["/mnt/sdb7/AU/Classes/8-React-native/assignment/RNProject/ListRedux/listReducer.js"],"names":["initialState","list","cached","pageNumber","searchQuery","listReducer","state","action","type","newData","payload","map","item","show","console","log","searchList","filter","title","includes","s","Date","now","sortedOnMembers","sort","a","b","members","e","defaultSort","score"],"mappings":";AAAA,IAAMA,YAAY,GAAG;AACnBC,EAAAA,IAAI,EAAE,EADa;AAEnBC,EAAAA,MAAM,EAAE,EAFW;AAGnBC,EAAAA,UAAU,EAAE,CAHO;AAInBC,EAAAA,WAAW,EAAE;AAJM,CAArB;;AAOA,IAAMC,WAAW,GAAG,SAAdA,WAAc,GAAkC;AAAA,MAAjCC,KAAiC,uEAAzBN,YAAyB;AAAA,MAAXO,MAAW;;AACpD,UAAQA,MAAM,CAACC,IAAf;AAEE,SAAK,QAAL;AAAe;AACb,YAAMC,OAAO,GAAGF,MAAM,CAACG,OAAP,CAAeC,GAAf,CAAmB,UAACC,IAAD,EAAU;AAC3CA,UAAAA,IAAI,CAACC,IAAL,GAAY,IAAZ;AACA,iBAAOD,IAAP;AACD,SAHe,CAAhB;AAIA,eAAO;AACLX,UAAAA,IAAI,+BAAMK,KAAK,CAACL,IAAZ,sBAAqBQ,OAArB,EADC;AAELN,UAAAA,UAAU,EAAEG,KAAK,CAACH,UAAN,GAAmB;AAF1B,SAAP;AAID;;AAGD,SAAK,QAAL;AAAe;AACbW,QAAAA,OAAO,CAACC,GAAR,CAAYT,KAAK,CAACL,IAAlB;AACA,YAAMe,UAAU,GAAGV,KAAK,CAACL,IAAN,CAAWgB,MAAX,CAAkB,UAACL,IAAD;AAAA,iBACnCA,IAAI,CAACM,KAAL,CAAWC,QAAX,CAAoBb,KAAK,CAACF,WAA1B,CADmC;AAAA,SAAlB,CAAnB;AAGAU,QAAAA,OAAO,CAACC,GAAR,CAAYC,UAAZ;AACA,eAAO;AACLf,UAAAA,IAAI,EAAEe;AADD,SAAP;AAGD;;AAGD,SAAK,MAAL;AAAa;AACX,YAAMI,CAAC,GAAGC,IAAI,CAACC,GAAL,EAAV;;AACA,YAAMC,eAAe,sBAAOjB,KAAK,CAACL,IAAb,CAArB;;AACAsB,QAAAA,eAAe,CAACC,IAAhB,CAAqB,UAACC,CAAD,EAAIC,CAAJ;AAAA,iBAAWD,CAAC,CAACE,OAAF,GAAYD,CAAC,CAACC,OAAd,GAAwB,CAAC,CAAzB,GAA6B,CAAxC;AAAA,SAArB;AACA,YAAMC,CAAC,GAAGP,IAAI,CAACC,GAAL,EAAV;AAEA,eAAO;AACLrB,UAAAA,IAAI,EAAEsB;AADD,SAAP;AAGD;;AAGD,SAAK,aAAL;AAAoB;AAClB,YAAMM,WAAW,sBAAOvB,KAAK,CAACL,IAAb,CAAjB;;AACA4B,QAAAA,WAAW,CAACL,IAAZ,CAAiB,UAACC,CAAD,EAAIC,CAAJ;AAAA,iBAAWD,CAAC,CAACK,KAAF,GAAUJ,CAAC,CAACI,KAAZ,GAAoB,CAAC,CAArB,GAAyB,CAApC;AAAA,SAAjB;AACA,eAAO;AACL7B,UAAAA,IAAI,EAAE4B;AADD,SAAP;AAGD;;AAED;AACE,aAAOvB,KAAP;AA/CJ;AAiDD,CAlDD;;AAoDA,eAAeD,WAAf","sourcesContent":["const initialState = {\n  list: [],\n  cached: {},\n  pageNumber: 1,\n  searchQuery: \"\",\n};\n\nconst listReducer = (state = initialState, action) => {\n  switch (action.type) {\n    // add new data at the end list\n    case \"APPEND\": {\n      const newData = action.payload.map((item) => {\n        item.show = true; // adding one more property on basis we can show element\n        return item;\n      });\n      return {\n        list: [...state.list, ...newData],\n        pageNumber: state.pageNumber + 1,\n      };\n    }\n\n    // search on basis of text\n    case \"SEARCH\": {\n      console.log(state.list);\n      const searchList = state.list.filter((item) =>\n        item.title.includes(state.searchQuery)\n      );\n      console.log(searchList);\n      return {\n        list: searchList,\n      };\n    }\n\n    // sort my members\n    case \"SORT\": {\n      const s = Date.now()\n      const sortedOnMembers = [...state.list];\n      sortedOnMembers.sort((a, b) => (a.members > b.members ? -1 : 1));\n      const e = Date.now()\n      \n      return {\n        list: sortedOnMembers,\n      };\n    }\n\n    // reset sorting and seach filter\n    case \"RESETFILTER\": {\n      const defaultSort = [...state.list];\n      defaultSort.sort((a, b) => (a.score > b.score ? -1 : 1));\n      return {\n        list: defaultSort,\n      };\n    }\n\n    default:\n      return state;\n  }\n};\n\nexport default listReducer;\n"]},"metadata":{},"sourceType":"module"}